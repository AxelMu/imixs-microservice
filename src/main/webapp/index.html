<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<title>Imixs-Microservice</title>
<meta name="viewport"
	content="width=device-width, initial-scale=1, minimum-scale=1" />

<link type="text/css;charset=UTF-8" rel="stylesheet" media="all"
	href="creatix-basic.css" />
<link type="text/css;charset=UTF-8" rel="stylesheet" media="all"
	href="creatix-layout.css" />
<link type="text/css;charset=UTF-8" rel="stylesheet" media="all"
	href="imixs-microservice.css" />
<style>
</style>
</head>
<body>
	<div id="header">
		<div id="navbar">
			<div class="nav-title">
				<a href="#">Imixs-Microservice</a>


			</div>
			<ul>
				<li><a href="http://www.imixs.org/microservice/"
					target="_blank">Project</a></li>
				<li><a href="https://github.com/imixs/imixs-microservice"
					target="_blank">GitHub</a></li>
			</ul>
		</div>


	</div>


	<div id="container">

		<!--  WHAT -->

		<div class="row section  text-left" id="section4">

			<div class="col-12">
				<h2>Welcome</h2>
				<p>Imixs-Microservice provides a WebService Interface which can be
					used to interact with the Imixs-Workflow-Engine. 
					<a href="http://www.imixs.org/doc/restapi/index.html">Details about the Imixs-Rest API 
					can be found here</a>.</p>

				<h3>How to Deploy a BPMN Model</h3>
				<p>
					After you have created a Imixs BPMN model with the <a href="http://www.imixs.org/doc/modelling/index.html" target="_blank">
					Imixs-BPMN moddeling tool</a>, you can deploy the model into the Imixs-Microservice. 
					This can be done
					by uploading the BPMN file via the Rest API using the curl command: <br />

				</p>
					<pre>curl --user admin:adminadmin --request POST -Tticket.bpmn http://localhost:8080/imixs-microservice/model/bpmn</pre>
				<p>
					You will find an example model in the Imixs-Microservice project at:
					/src/main/resources/ticket.bpmn
				</p>


				<h3>Verify Model</h3>

				<p>
					To verify if the model was deployed successfully you can check
					the deployed model version with the Rest API: <br /> <a href="./model"
						class="sample-url">http://[YOURSERVER]/rest-service/model</a> <br />
					If no model version is yet deployed, you can create and upload a new BPMN Model
					using the <a href="http://www.imixs.org/modeler/" target="_blank">Imixs-BPMN-Modeller</a>.


				</p>


				<h3>Open the Tasklist</h3>

				<p>
					Each user involved in a business process has a personal task list (called the 'worklist').
					You can request the task list for the current user by the
					following Rest API URL: <br /> <a href="./workflow/worklist.json"
						class="sample-url">http://[YOURSERVER]/rest-service/workflow/worklist</a>
					<br /> The result will include all workitems for the current user.
				</p>

				<h3>Create a new Process Instance</h3>

				<p>To create a new process instance you can POST a JSON Object
					to the Imixs-Microservice in the following way</p>
				<pre>
POST = http://localhost/workflow/rest-service/workflow/workitem
</pre>
				<p>To create a valid workitem the following attributes are
					mandatory:</p>
				<ul>

					<li>$modelversion = the version of your model</li>
					<li>$processid = the start process</li>
					<li>$activityid = the activity to be processed</li>
				</ul>
				<p>See the following Example:</p>
				<pre>
 {"item":[
     {"name":"$modelversion","value":{"@type":"xs:string","$":"my-model-definition-0.0.2"}},
     {"name":"$processid","value":{"@type":"xs:int","$":"2000"}}, 
     {"name":"$activityid","value":{"@type":"xs:int","$":"1"}}, 
     {"name":"_subject","value":{"@type":"xs:string","$":"Some usefull data.."}}
   ]}  
</pre>

				<p>Once you created a new process instance based on a predefined
					model you got a set of data back form the workflow engine
					describing the state of your new business object which is now
					controlled by the workflow engine. This is called the workitem:</p>
				<pre>
{"item":[
   {"name":"$uniqueid","value":{"@type":"xs:string","$":"141cb98aecc-18544f1b"}},
   {"name":"$modelversion","value":{"@type":"xs:string","$":"my-model-definition-0.0.2"}},
   {"name":"$processid","value":{"@type":"xs:int","$":"2000"}},
   {"name":"namcreator","value":{"@type":"xs:string","$":"admin"}}, 
   {"name":"namcurrenteditor","value":{"@type":"xs:string","$":"admin"}}, 
   {"name":"namowner","value":{"@type":"xs:string","$":"admin"}}, 
   {"name":"$isauthor","value":{"@type":"xs:boolean","$":"true"}},
   {"name":"_subject","value":{"@type":"xs:string","$":"JUnit Test-6476"}}, 
   {"name":"txtworkflowstatus","value":{"@type":"xs:string","$":"Vorlauf"}}, 
   {"name":"txtworkflowresultmessage","value":{"@type":"xs:string","$":""}}
  ]}
</pre>
				<p>The workitem includes the attribute '$uniqueid' wich is used
					ot identify the process instance later. Also workflow information
					like the current status or the owner is returend by the service.</p>
				<p>There are serveral Resouce URIs to request the state of a
					process instance. Using the $uniqueid returned by the POST method
					you can request the current status of a single process instance:</p>
				<pre>
GET = http://localhost/workflow/rest-service/workflow/workitem/[UNIQUEID].json
</pre>


				<p>To change the status of a process instance you simply need ot
					post uniqueid together with the next workflow activity defined by
					your workflow model</p>


				<pre>
POST = http://localhost/workflow/rest-service/workflow/workitem/[UNIQUEID]
</pre>
				<pre>
 {"item":[
     {"name":"$uniqueid","value":{"@type":"xs:string","$":"141cb98aecc-18544f1b"}},
     {"name":"$activityid","value":{"@type":"xs:int","$":"1"}}, 
     {"name":"_subject","value":{"@type":"xs:string","$":"Some usefull data.."}}
     {"name":"_customdata","value":{"@type":"xs:string","$":"Some more data.."}}
   ]}  
</pre>

				<p>Within the object you can define any kind of data to be
					stored together with the process instance.</p>




				<h2>JUnit Tests</h2>
				<p>The Imixs-Microservice project provide a set of JUnit Tests. These tests
					can be used also as a starting point to see how the RestService API
					works.</p>
			</div>


		</div>
	</div>


	<div id="footer">
		<p></p>
	</div>
</body>
</html>